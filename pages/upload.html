<div class="upload-page">
    <h1>Recipe Uploader</h1>

    <!-- Login Form -->
    <div id="loginSection" class="upload-section">
        <div class="login-box">
            <h2>Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="submit-btn">Login</button>
                <p id="loginError" class="error-message"></p>
            </form>
        </div>
    </div>

    <!-- Upload Form (hidden until logged in) -->
    <div id="uploadSection" class="upload-section" style="display: none;">
        <!-- Auto Import -->
        <div class="import-box">
            <h2>Auto Import from URL</h2>
            <div class="import-row">
                <input type="url" id="importUrl" placeholder="Paste recipe URL..." class="import-input">
                <button type="button" id="importBtn" class="import-btn">Import</button>
            </div>
            <p id="importStatus" class="status-message"></p>
        </div>

        <!-- Manual Entry Form -->
        <div class="recipe-form-box">
            <h2>Recipe Details</h2>
            <form id="recipeForm">
                <!-- Basic Info -->
                <div class="form-group">
                    <label for="recipeName">Name *</label>
                    <input type="text" id="recipeName" name="name" required>
                </div>

                <div class="form-group">
                    <label for="recipeDescription">Description</label>
                    <textarea id="recipeDescription" name="description" rows="3"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="recipeType">Type *</label>
                        <select id="recipeType" name="type" required>
                            <option value="">Select type...</option>
                            <option value="main">Main</option>
                            <option value="side">Side</option>
                            <option value="dessert">Dessert</option>
                            <option value="breakfast">Breakfast</option>
                            <option value="snack">Snack</option>
                            <option value="drink">Drink</option>
                            <option value="sauce">Sauce</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="recipeSource">Source</label>
                        <input type="text" id="recipeSource" name="source" placeholder="e.g. BBC Good Food">
                    </div>
                </div>

                <div class="form-group">
                    <label for="sourceLink">Source URL</label>
                    <input type="url" id="sourceLink" name="source_link" placeholder="https://...">
                </div>

                <!-- Time and Servings -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="prepTime">Prep Time</label>
                        <input type="text" id="prepTime" name="preparation_time" placeholder="e.g. 15 mins">
                    </div>
                    <div class="form-group">
                        <label for="cookTime">Cook Time</label>
                        <input type="text" id="cookTime" name="cooking_time" placeholder="e.g. 30 mins">
                    </div>
                    <div class="form-group">
                        <label for="temperature">Temperature</label>
                        <input type="text" id="temperature" name="temperature" placeholder="e.g. 180C">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="serves">Serves</label>
                        <input type="text" id="serves" name="serves" placeholder="e.g. 4">
                    </div>
                    <div class="form-group">
                        <label for="makes">Makes</label>
                        <input type="text" id="makes" name="makes" placeholder="e.g. 12 cookies">
                    </div>
                </div>

                <!-- Ingredients -->
                <div class="form-group">
                    <label>Ingredients *</label>
                    <div id="ingredientsList" class="dynamic-list">
                        <div class="ingredient-row">
                            <input type="text" name="ingredients[]" placeholder="e.g. 200g flour" required>
                            <button type="button" class="remove-btn" onclick="removeRow(this)">-</button>
                        </div>
                    </div>
                    <button type="button" class="add-btn" onclick="addIngredient()">+ Add Ingredient</button>
                </div>

                <!-- Instructions -->
                <div class="form-group">
                    <label>Instructions * (max 16)</label>
                    <div id="instructionsList" class="dynamic-list">
                        <div class="instruction-row">
                            <span class="instruction-num">1.</span>
                            <textarea name="instructions[]" rows="2" placeholder="First step..." required></textarea>
                            <button type="button" class="remove-btn" onclick="removeRow(this)">-</button>
                        </div>
                    </div>
                    <button type="button" class="add-btn" id="addInstructionBtn" onclick="addInstruction()">+ Add Instruction</button>
                </div>

                <!-- Image -->
                <div class="form-group">
                    <label>Image</label>
                    <div class="image-preview-container" id="imagePreviewContainer" style="display: none;">
                        <img id="imagePreview" src="" alt="Preview">
                        <button type="button" class="remove-btn image-remove-btn" id="imageRemoveBtn">-</button>
                    </div>
                    <div class="image-inputs">
                        <input type="url" id="imageUrl" name="image" placeholder="Paste image URL...">
                        <span class="image-or">or</span>
                        <label for="imageFile" class="file-upload-btn">Choose File</label>
                        <input type="file" id="imageFile" accept="image/*" style="display: none;">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="submit-btn">Upload Recipe</button>
                    <button type="button" class="cancel-btn" id="cancelBtn">Cancel</button>
                </div>
                <p id="uploadStatus" class="status-message"></p>
            </form>
        </div>
    </div>
</div>
